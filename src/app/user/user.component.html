<link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/MaterialDesign-Webfont/5.3.45/css/materialdesignicons.css"
  integrity="sha256-NAxhqDvtY0l4xn+YVa6WjAcmd94NNfttjNsDmNatFVc="
  crossorigin="anonymous"
/>
<div class="container">
  <div class="row">
    <div class="col-xl-5">
      <div class="card">
        <div class="card-body">
          <div class="d-flex align-items-start">
            <img
              src="{{ profileUser.imageUrl }}"
              class="rounded-circle avatar-lg img-thumbnail"
              alt="profile-image"
            />
            <div class="w-100 ms-3">
              <h4 class="my-0">
                {{ profileUser.firstName + " " + profileUser.lastName }}
              </h4>
              <p class="text-muted">{{ "@" + profileUser.username }}</p>

              <button
                *ngIf="!isFollowing &&profileUser.username!=currentUsername&&!followLoading"
                (click)="follow(profileUser.username)"
                type="submit"
                class="btn btn-secondary"
              >
                <span *ngIf="!followLoading">Takip Et</span>
                <div
                  *ngIf="followLoading"
                  class="spinner-grow text-primary"
                  role="status"
                ></div>
              </button>
              <button
                *ngIf="isFollowing &&profileUser.username!=currentUsername&&!followLoading"
                (click)="unfollow(profileUser.username)"
                type="submit"
                class="btn btn-primary"
              >
                <span *ngIf="!followLoading">Takip Ediliyor</span>
                <div
                  *ngIf="followLoading"
                  class="spinner-grow text-primary"
                  role="status"
                ></div>
              </button>
              
              <button              
                (click)="routeMessagePage()"
                type="button"
                class="btn btn-success"
                *ngIf="profileUser.username!=currentUsername"
              >
                <span >Mesaj Gönder</span>
                <div
                  *ngIf="followLoading"
                  class="spinner-grow text-primary"
                  role="status"
                ></div>
              </button>
            </div>
          </div>
          <div class="mt-3">
            <h4 class="font-13 text-uppercase">About Me :</h4>
            <p class="text-muted font-13 mb-3">
              {{ profileUser.aboutMe }}
            </p>
            <p class="text-muted mb-2 font-13">
              <strong>Üye Olma Tarihi:</strong>
              <span class="ms-2">{{
                profileUser.joinDate | date: "mediumDate"
              }}</span>
            </p>

            <ul class="social-list list-inline mt-3 mb-0">
              <li *ngIf="profileUser.facebookAccount!=null" class="list-inline-item">
                <a
                  href="{{ profileUser.facebookAccount }}"
                  class="
                    social-list-item
                    text-center
                    border-primary
                    text-primary
                  "
                  ><i class="mdi mdi-facebook"></i
                ></a>
              </li >
              <li *ngIf="profileUser.instagramAccount!=null" class="list-inline-item">
                <a
                  href="{{ profileUser.instagramAccount }}"
                  class="social-list-item text-center border-danger text-danger"
                  ><i class="mdi mdi-instagram"></i
                ></a>
              </li>
              <li *ngIf="profileUser.twitterAccount!=null" class="list-inline-item">
                <a
                  href="{{ profileUser.twitterAccount }}"
                  class="social-list-item text-center border-info text-info"
                  ><i class="mdi mdi-twitter"></i
                ></a>
              </li>
            </ul>
          </div>
        </div>
      </div>
      <!-- end card -->
      <div class="card">
        <div class="card-body text-center">
          <div class="row">
            <div class="col-4 border-end border-light">
              <h5 class="text-muted mt-1 mb-2 fw-normal">Şiir</h5>
              <h2 class="mb-0 fw-bold">{{ profileUser.poemCount }}</h2>
            </div>
            <div class="col-4 border-end border-light">
              <h5 class="text-muted mt-1 mb-2 fw-normal">Takipçi</h5>
              <h2 class="mb-0 fw-bold">{{ profileUser.followerCount }}</h2>
            </div>
            <div class="col-4">
              <h5 class="text-muted mt-1 mb-2 fw-normal">Takip Edilen</h5>
              <h2 class="mb-0 fw-bold">{{ profileUser.followingCount }}</h2>
            </div>
          </div>
        </div>
      </div>

      <div class="card">
        <div class="card-body">
          <h4 class="header-title mb-3">Takipçiler</h4>

          <div
            class="inbox-widget"
            data-simplebar="init"
            style="max-height: 350px"
          >
            <div class="simplebar-wrapper" style="margin: 0px">
              <div class="simplebar-height-auto-observer-wrapper">
                <div class="simplebar-height-auto-observer"></div>
              </div>
              <div class="simplebar-mask">
                <div class="simplebar-offset" style="right: 0px; bottom: 0px">
                  <div
                    class="simplebar-content-wrapper"
                    
                  >
                    <div class="simplebar-content" style="padding: 0px">
                      <div
                        *ngFor="let follower of profileUser.followers"
                        class="d-flex align-items-center pb-1"
                        id="tooltips-container"
                      >
                        <img
                          src="{{ follower.imageUrl }}"
                          class="
                            rounded-circle
                            img-fluid
                            avatar-md
                            img-thumbnail
                            bg-transparent
                          "
                          alt=""
                        />
                        <div class="w-100 ms-3">
                          <a href="{{ '/user/' + follower.username }}">
                            <h5 class="mb-1">
                              {{ follower.firstName + " " + follower.lastName }}
                            </h5>
                          </a>

                          <p class="mb-0 font-13">
                            {{ "@" + follower.username }}
                          </p>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div
                class="simplebar-placeholder"
                style="width: auto; height: 532px"
              ></div>
            </div>
            <div
              class="simplebar-track simplebar-horizontal"
              style="visibility: hidden"
            >
              <div
                class="simplebar-scrollbar"
                style="width: 0px; display: none"
              ></div>
            </div>
            <div
              class="simplebar-track simplebar-vertical"
              style="visibility: visible"
            >
              <div
                class="simplebar-scrollbar"
                style="
                  height: 230px;
                  transform: translate3d(0px, 0px, 0px);
                  display: block;
                "
              ></div>
            </div>
          </div>
          <!-- end inbox-widget -->
        </div>
      </div>
      <!-- end card-->
      <div class="card">
        <div class="card-body">
          <h4 class="header-title mb-3">Takip Ettikleri</h4>

          <div
            class="inbox-widget"
            data-simplebar="init"
            style="max-height: 350px"
          >
            <div class="simplebar-wrapper" style="margin: 0px">
              <div class="simplebar-height-auto-observer-wrapper">
                <div class="simplebar-height-auto-observer"></div>
              </div>
              <div class="simplebar-mask">
                <div class="simplebar-offset" style="right: 0px; bottom: 0px">
                  <div
                    class="simplebar-content-wrapper"
           
                  >
                    <div class="simplebar-content" style="padding: 0px">
                      <div
                        *ngFor="let following of profileUser.followings"
                        class="d-flex align-items-center pb-1"
                        id="tooltips-container"
                      >
                        <img
                          src="{{ following.imageUrl }}"
                          class="
                            rounded-circle
                            img-fluid
                            avatar-md
                            img-thumbnail
                            bg-transparent
                          "
                          alt=""
                        />
                        <div class="w-100 ms-3">
                          <a href="{{ '/user/' + following.username }}">
                            <h5 class="mb-1">
                              {{
                                following.firstName + " " + following.lastName
                              }}
                            </h5></a
                          >

                          <p class="mb-0 font-13">
                            {{ "@" + following.username }}
                          </p>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div
                class="simplebar-placeholder"
                style="width: auto; height: 532px"
              ></div>
            </div>
            <div
              class="simplebar-track simplebar-horizontal"
              style="visibility: hidden"
            >
              <div
                class="simplebar-scrollbar"
                style="width: 0px; display: none"
              ></div>
            </div>
            <div
              class="simplebar-track simplebar-vertical"
              style="visibility: visible"
            >
              <div
                class="simplebar-scrollbar"
                style="
                  height: 230px;
                  transform: translate3d(0px, 0px, 0px);
                  display: block;
                "
              ></div>
            </div>
          </div>
          <!-- end inbox-widget -->
        </div>
      </div>
    </div>

    <!-- end col-->

    <div class="col-xl-7">
      <div class="card" >
        <div class="card-body" *ngFor="let poem of profilePoems">
          <!-- Story Box-->     
          
            <app-poem-box [poem]="poem"></app-poem-box>
         
     

        </div>
        <button *ngIf="profilePoemsLoading" class="btn btn-primary" type="button" disabled>
          <span class="spinner-grow spinner-grow-sm" role="status" aria-hidden="true"></span>
          Yükleniyor
        </button>
        <button class="btn btn-primary" *ngIf="!profilePoemsLoading&& profilePoems.length>5"> Devamını Gör</button>  

      </div> 
     
    
   
    
    
    
    </div>
    <!-- end row-->
  </div>
</div>
